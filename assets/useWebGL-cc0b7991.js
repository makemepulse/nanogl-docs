const b=l=>{let t=null,a=Date.now(),n=0,c=0;const i={width:1,height:1},h=window.devicePixelRatio,e=l||document.getElementById("canvas"),o=e.getContext("webgl");return{gl:o,canvas:e,size:i,start:(r,w=!1)=>{const g=m=>{const{width:f,height:u}=m[0].contentRect;e.width=Math.round(f*h),e.height=Math.round(u*h),i.width=o.drawingBufferWidth,i.height=o.drawingBufferHeight,w&&s()},d=new ResizeObserver(g);d.observe(e);const s=()=>{w||(window.cancelAnimationFrame(t),t=window.requestAnimationFrame(s),n=Date.now()-a,a=Date.now(),c+=n),r==null||r({deltaTime:n,elapsedTime:c})};return setTimeout(s,0),()=>{d.disconnect(),window.cancelAnimationFrame(t)}}}};export{b as useWebGL};
